# POSIX Hardening Ansible Inventory
# Configure your target servers here

[production]
# Production servers - full hardening
# server1.example.com ansible_host=192.168.1.10 ansible_port=22 ansible_user=admin
# server2.example.com ansible_host=192.168.1.11 ansible_port=22 ansible_user=admin

[staging]
# Staging servers - test hardening first
# staging.example.com ansible_host=192.168.2.10 ansible_port=22 ansible_user=admin

[test]
# Test servers - dry run testing
# test.example.com ansible_host=192.168.3.10 ansible_port=22 ansible_user=testuser

# Group all servers
[all_servers:children]
production
staging
test

# Variables for all servers
[all_servers:vars]
ansible_python_interpreter=/usr/bin/python3
ansible_become_method=sudo

# Production-specific variables
# All defaults come from group_vars/all.yml - only set environment-specific overrides here
[production:vars]
# REQUIRED: Set your management IP address to prevent firewall lockout
admin_ip=YOUR_ADMIN_IP_HERE

# Staging-specific variables
[staging:vars]
# REQUIRED: Set your management IP address
admin_ip=YOUR_ADMIN_IP_HERE
# Staging auto-removes emergency SSH after successful deployment
remove_emergency_ssh=true

# Test-specific variables
[test:vars]
# Test environment runs in dry-run mode (no actual changes)
dry_run=1
run_full_hardening=false

# SSH connection settings
[all:vars]
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
ansible_connection=ssh
ansible_timeout=30